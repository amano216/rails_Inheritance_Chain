<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rails 継承チェーン完全マスターガイド</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css">
    <link rel="stylesheet" href="global-search.css">
    <link rel="stylesheet" href="hamburger-menu.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Noto+Sans+JP:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', 'Noto Sans JP', sans-serif;
            line-height: 1.7;
        }
        /* 検索バー */
        .search-container {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 1000;
            background: white;
            border-radius: 8px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            padding: 10px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        .search-input {
            padding: 8px 12px;
            border: 2px solid #e5e7eb;
            border-radius: 6px;
            width: 250px;
            font-size: 14px;
            transition: border-color 0.3s;
        }
        .search-input:focus {
            outline: none;
            border-color: #3b82f6;
        }
        .search-button {
            padding: 8px 12px;
            background: #3b82f6;
            color: white;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-size: 14px;
            transition: background 0.3s;
        }
        .search-button:hover {
            background: #2563eb;
        }
        .clear-button {
            padding: 8px;
            background: #ef4444;
            color: white;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-size: 14px;
            transition: background 0.3s;
        }
        .clear-button:hover {
            background: #dc2626;
        }
        .search-status {
            font-size: 12px;
            margin-left: 10px;
        }
        /* 検索ハイライト */
        .search-highlight {
            background-color: #fef3c7;
            padding: 2px 4px;
            border-radius: 3px;
            font-weight: 600;
            box-shadow: 0 0 0 2px #fbbf24;
        }
        .current-highlight {
            background-color: #fbbf24;
            box-shadow: 0 0 0 3px #f59e0b;
        }
        /* モバイル対応 */
        @media (max-width: 768px) {
            .search-container {
                top: 10px;
                right: 10px;
                left: 10px;
                width: auto;
            }
            .search-input {
                width: 100%;
            }
        }
        .inheritance-arrow {
            border-left: 3px solid #4f46e5;
            border-bottom: 3px solid #4f46e5;
            width: 30px;
            height: 30px;
            transform: rotate(-45deg);
            margin: 10px auto;
        }
        .inheritance-line {
            border-left: 2px dashed #6b7280;
            height: 30px;
            margin: 0 auto;
        }
        .gradient-text {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        .section-divider {
            background: linear-gradient(90deg, transparent, #e5e7eb, transparent);
            height: 1px;
            margin: 3rem 0;
        }
        .code-snippet {
            background: #1f2937;
            color: #e5e7eb;
            font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;
            font-size: 0.9rem;
            border-radius: 8px;
            overflow-x: auto;
        }
        .highlight-yellow { color: #fbbf24; }
        .highlight-green { color: #10b981; }
        .highlight-blue { color: #3b82f6; }
        .highlight-pink { color: #ec4899; }
        .chat-bubble {
            position: relative;
            padding: 1.5rem;
            border-radius: 1.25rem;
        }
        .chat-bubble::before {
            content: '';
            position: absolute;
            top: 20px;
            width: 0;
            height: 0;
        }
        .chat-bubble-bot {
            background: linear-gradient(135deg, #f3f4f6 0%, #e5e7eb 100%);
        }
        .chat-bubble-bot::before {
            left: -10px;
            border-top: 10px solid transparent;
            border-bottom: 10px solid transparent;
            border-right: 10px solid #f3f4f6;
        }
        .learning-step {
            background: linear-gradient(135deg, #dbeafe 0%, #bfdbfe 100%);
            border-left: 4px solid #3b82f6;
        }
        .pro-tip {
            background: linear-gradient(135deg, #d1fae5 0%, #a7f3d0 100%);
            border-left: 4px solid #10b981;
        }
        .warning-box {
            background: linear-gradient(135deg, #fef3c7 0%, #fde68a 100%);
            border-left: 4px solid #f59e0b;
        }
        @media print {
            body { -webkit-print-color-adjust: exact; }
            .no-break { page-break-inside: avoid; }
        }
    </style>
</head>
<body class="bg-gray-50 text-gray-900">

    <!-- グローバル検索 -->
    <button class="open-global-search" onclick="document.getElementById('globalSearchInput').focus()">
        <i class="fas fa-search"></i>
        全ページ検索
    </button>
    
    <div class="global-search-container">
        <div class="global-search-header">
            <input type="text" id="globalSearchInput" class="global-search-input" placeholder="全ページから検索...">
            <button id="clearGlobalSearch" class="clear-global-search">
                <i class="fas fa-times"></i>
            </button>
        </div>
        <div id="globalSearchResults"></div>
    </div>

    <!-- Header -->
    <header class="bg-gradient-to-br from-indigo-600 via-purple-600 to-blue-700 text-white">
        <div class="container mx-auto px-6 py-12">
            <div class="text-center">
                <h1 class="text-5xl font-bold mb-4">
                    <i class="fas fa-sitemap mr-4 text-yellow-300"></i>
                    Rails 継承チェーン完全マスターガイド
                </h1>
                <p class="text-xl text-blue-100 mb-6">継承の仕組み・命名規則・効率的学習戦略を体系的に理解する</p>
                <div class="flex justify-center items-center space-x-8 text-sm">
                    <div class="flex items-center">
                        <i class="fas fa-users text-green-300 mr-2"></i>
                        <span>初心者〜上級者対応</span>
                    </div>
                    <div class="flex items-center">
                        <i class="fas fa-book text-blue-300 mr-2"></i>
                        <span>完全網羅版</span>
                    </div>
                    <div class="flex items-center">
                        <i class="fas fa-rocket text-purple-300 mr-2"></i>
                        <span>実践的アプローチ</span>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <div class="container mx-auto px-6 py-8 max-w-7xl">

        <!-- Introduction -->
        <section class="mb-12">
            <div class="bg-white rounded-xl shadow-lg p-8">
                <h2 class="text-3xl font-bold text-gray-800 mb-6">
                    <i class="fas fa-lightbulb text-yellow-500 mr-3"></i>継承チェーンとは？なぜ重要なのか？
                </h2>
                <div class="grid md:grid-cols-2 gap-8">
                    <div>
                        <h3 class="text-xl font-semibold mb-4 text-indigo-700">継承チェーンの基本概念</h3>
                        <p class="text-gray-700 leading-relaxed mb-4">
                            Railsアプリケーションの各クラス（モデル、コントローラー、ヘルパー）は、親クラスから機能を<strong class="text-indigo-600">継承</strong>し、
                            モジュールから機能を<strong class="text-indigo-600">インクルード</strong>することで、豊富な機能を利用できます。
                        </p>
                        <p class="text-gray-700 leading-relaxed">
                            この継承の連鎖を理解することで、<code class="bg-gray-200 px-2 py-1 rounded text-sm">User.find</code>や
                            <code class="bg-gray-200 px-2 py-1 rounded text-sm">redirect_to</code>などの「魔法のような」機能が、
                            実は体系的な設計に基づいていることが分かります。
                        </p>
                    </div>
                    <div>
                        <h3 class="text-xl font-semibold mb-4 text-green-700">学習する価値</h3>
                        <ul class="space-y-3">
                            <li class="flex items-start">
                                <i class="fas fa-check-circle text-green-500 mt-1 mr-3"></i>
                                <span class="text-gray-700">コードを読むだけで構造が分かるようになる</span>
                            </li>
                            <li class="flex items-start">
                                <i class="fas fa-check-circle text-green-500 mt-1 mr-3"></i>
                                <span class="text-gray-700">デバッグ時にどこを調べれば良いかが直感的に分かる</span>
                            </li>
                            <li class="flex items-start">
                                <i class="fas fa-check-circle text-green-500 mt-1 mr-3"></i>
                                <span class="text-gray-700">新しい機能を実装する際の設計指針になる</span>
                            </li>
                            <li class="flex items-start">
                                <i class="fas fa-check-circle text-green-500 mt-1 mr-3"></i>
                                <span class="text-gray-700">チーム開発での相互理解が促進される</span>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </section>

        <div class="section-divider"></div>

        <!-- Model Inheritance -->
        <section class="mb-12">
            <div class="bg-white rounded-xl shadow-lg p-8">
                <h2 class="text-3xl font-bold text-gray-800 mb-8">
                    <i class="fas fa-database text-green-500 mr-3"></i>1. モデル（Model）の継承チェーン
                </h2>
                
                <div class="grid lg:grid-cols-2 gap-8 mb-8">
                    <div>
                        <h3 class="text-xl font-semibold mb-4 text-green-700">継承構造の視覚化</h3>
                        <div class="flex flex-col items-center bg-gray-50 p-6 rounded-lg">
                            <div class="bg-red-100 border-2 border-red-300 rounded-lg p-4 w-72 text-center mb-2">
                                <h4 class="font-bold text-red-800">ActiveRecord::Base</h4>
                                <p class="text-sm text-red-600">Railsのgem（基盤）</p>
                                <p class="text-xs text-red-500 mt-1">データベース操作の全機能</p>
                            </div>
                            <div class="inheritance-arrow"></div>
                            <div class="bg-yellow-100 border-2 border-yellow-300 rounded-lg p-4 w-72 text-center mb-2">
                                <h4 class="font-bold text-yellow-800">ApplicationRecord</h4>
                                <p class="text-sm text-yellow-600">アプリ共通のモデル機能</p>
                                <p class="text-xs text-yellow-500 mt-1">全モデルで共有したい機能</p>
                            </div>
                            <div class="inheritance-arrow"></div>
                            <div class="bg-green-100 border-2 border-green-300 rounded-lg p-4 w-72 text-center">
                                <h4 class="font-bold text-green-800">User, Post, Comment等</h4>
                                <p class="text-sm text-green-600">個別のデータモデル</p>
                                <p class="text-xs text-green-500 mt-1">テーブル固有の機能</p>
                            </div>
                        </div>
                    </div>
                    
                    <div>
                        <h3 class="text-xl font-semibold mb-4 text-green-700">命名の意図と理由</h3>
                        <div class="space-y-4">
                            <div class="bg-blue-50 p-4 rounded-lg border-l-4 border-blue-400">
                                <h4 class="font-semibold text-blue-800 mb-2">なぜ「ApplicationRecord」？</h4>
                                <p class="text-blue-700 text-sm leading-relaxed">
                                    「Application」+ 「Record」の組み合わせで、<strong>このアプリケーションのレコード（データ）を扱う基底クラス</strong>
                                    であることを表現。名前を見ただけで継承元が<code class="bg-blue-200 px-1 rounded">ActiveRecord</code>系だと分かる設計。
                                </p>
                            </div>
                            <div class="bg-green-50 p-4 rounded-lg border-l-4 border-green-400">
                                <h4 class="font-semibold text-green-800 mb-2">実際の使用例</h4>
                                <div class="code-snippet p-3">
<pre class="text-sm">
<span class="highlight-pink"># app/models/application_record.rb</span>
<span class="highlight-blue">class</span> <span class="highlight-yellow">ApplicationRecord</span> &lt; <span class="highlight-green">ActiveRecord::Base</span>
  <span class="highlight-pink"># アプリ全体で共通したい機能</span>
  <span class="highlight-blue">def</span> <span class="highlight-yellow">display_created_at</span>
    created_at.strftime(<span class="highlight-green">"%Y年%m月%d日"</span>)
  <span class="highlight-blue">end</span>
<span class="highlight-blue">end</span>

<span class="highlight-pink"># app/models/user.rb</span>
<span class="highlight-blue">class</span> <span class="highlight-yellow">User</span> &lt; <span class="highlight-green">ApplicationRecord</span>
  <span class="highlight-pink"># ↑ display_created_at が使える！</span>
<span class="highlight-blue">end</span>
</pre>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Model Features Table -->
                <div class="overflow-x-auto">
                    <table class="w-full border-collapse bg-white border border-gray-200 rounded-lg overflow-hidden">
                        <thead>
                            <tr class="bg-gradient-to-r from-gray-100 to-gray-200">
                                <th class="border border-gray-300 p-4 text-left font-semibold">クラス名</th>
                                <th class="border border-gray-300 p-4 text-left font-semibold">継承元</th>
                                <th class="border border-gray-300 p-4 text-left font-semibold">主な提供機能</th>
                                <th class="border border-gray-300 p-4 text-left font-semibold">ファイル場所</th>
                                <th class="border border-gray-300 p-4 text-left font-semibold">編集可能性</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr class="bg-red-50 hover:bg-red-100 transition-colors">
                                <td class="border border-gray-300 p-4">
                                    <code class="font-mono text-sm bg-red-200 px-2 py-1 rounded">ActiveRecord::Base</code>
                                </td>
                                <td class="border border-gray-300 p-4">Railsのgem</td>
                                <td class="border border-gray-300 p-4">
                                    <ul class="text-sm space-y-1">
                                        <li>• CRUD操作（find, create, update, destroy）</li>
                                        <li>• アソシエーション（has_many, belongs_to）</li>
                                        <li>• バリデーション（validates）</li>
                                        <li>• クエリインターフェース（where, order）</li>
                                    </ul>
                                </td>
                                <td class="border border-gray-300 p-4 text-gray-500">gem内部</td>
                                <td class="border border-gray-300 p-4">
                                    <span class="bg-red-200 text-red-800 px-2 py-1 rounded-full text-xs">編集不可</span>
                                </td>
                            </tr>
                            <tr class="bg-yellow-50 hover:bg-yellow-100 transition-colors">
                                <td class="border border-gray-300 p-4">
                                    <code class="font-mono text-sm bg-yellow-200 px-2 py-1 rounded">ApplicationRecord</code>
                                </td>
                                <td class="border border-gray-300 p-4">ActiveRecord::Base</td>
                                <td class="border border-gray-300 p-4">
                                    <ul class="text-sm space-y-1">
                                        <li>• アプリ共通のヘルパーメソッド</li>
                                        <li>• 共通バリデーション</li>
                                        <li>• 共通スコープ</li>
                                        <li>• カスタムコールバック</li>
                                    </ul>
                                </td>
                                <td class="border border-gray-300 p-4">
                                    <code class="text-sm">app/models/application_record.rb</code>
                                </td>
                                <td class="border border-gray-300 p-4">
                                    <span class="bg-green-200 text-green-800 px-2 py-1 rounded-full text-xs">編集可能</span>
                                </td>
                            </tr>
                            <tr class="bg-green-50 hover:bg-green-100 transition-colors">
                                <td class="border border-gray-300 p-4">
                                    <code class="font-mono text-sm bg-green-200 px-2 py-1 rounded">User, Post等</code>
                                </td>
                                <td class="border border-gray-300 p-4">ApplicationRecord</td>
                                <td class="border border-gray-300 p-4">
                                    <ul class="text-sm space-y-1">
                                        <li>• テーブル固有のアソシエーション</li>
                                        <li>• テーブル固有のバリデーション</li>
                                        <li>• ビジネスロジック</li>
                                        <li>• カスタムメソッド</li>
                                    </ul>
                                </td>
                                <td class="border border-gray-300 p-4">
                                    <code class="text-sm">app/models/user.rb<br>app/models/post.rb</code>
                                </td>
                                <td class="border border-gray-300 p-4">
                                    <span class="bg-green-200 text-green-800 px-2 py-1 rounded-full text-xs">編集可能</span>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </section>

        <div class="section-divider"></div>

        <!-- Controller Inheritance -->
        <section class="mb-12">
            <div class="bg-white rounded-xl shadow-lg p-8">
                <h2 class="text-3xl font-bold text-gray-800 mb-8">
                    <i class="fas fa-cogs text-blue-500 mr-3"></i>2. コントローラー（Controller）の継承チェーン
                </h2>
                
                <div class="grid lg:grid-cols-2 gap-8 mb-8">
                    <div>
                        <h3 class="text-xl font-semibold mb-4 text-blue-700">継承構造の視覚化</h3>
                        <div class="flex flex-col items-center bg-gray-50 p-6 rounded-lg">
                            <div class="bg-red-100 border-2 border-red-300 rounded-lg p-4 w-72 text-center mb-2">
                                <h4 class="font-bold text-red-800">ActionController::Base</h4>
                                <p class="text-sm text-red-600">Railsのgem（基盤）</p>
                                <p class="text-xs text-red-500 mt-1">HTTP処理の全機能</p>
                            </div>
                            <div class="inheritance-arrow"></div>
                            <div class="bg-yellow-100 border-2 border-yellow-300 rounded-lg p-4 w-72 text-center mb-2">
                                <h4 class="font-bold text-yellow-800">ApplicationController</h4>
                                <p class="text-sm text-yellow-600">アプリ共通のコントローラー機能</p>
                                <p class="text-xs text-yellow-500 mt-1">認証・共通処理</p>
                            </div>
                            <div class="inheritance-arrow"></div>
                            <div class="bg-blue-100 border-2 border-blue-300 rounded-lg p-4 w-72 text-center">
                                <h4 class="font-bold text-blue-800">UsersController等</h4>
                                <p class="text-sm text-blue-600">個別の機能コントローラー</p>
                                <p class="text-xs text-blue-500 mt-1">リソース固有の処理</p>
                            </div>
                        </div>
                    </div>
                    
                    <div>
                        <h3 class="text-xl font-semibold mb-4 text-blue-700">実践的な使用例</h3>
                        <div class="space-y-4">
                            <div class="bg-indigo-50 p-4 rounded-lg border-l-4 border-indigo-400">
                                <h4 class="font-semibold text-indigo-800 mb-2">ApplicationControllerの活用</h4>
                                <div class="code-snippet p-3">
<pre class="text-sm">
<span class="highlight-blue">class</span> <span class="highlight-yellow">ApplicationController</span> &lt; <span class="highlight-green">ActionController::Base</span>
  before_action <span class="highlight-green">:authenticate_user!</span>
  before_action <span class="highlight-green">:set_current_user</span>
  
  <span class="highlight-blue">private</span>
  
  <span class="highlight-blue">def</span> <span class="highlight-yellow">set_current_user</span>
    <span class="highlight-pink"># 全コントローラーで使える共通処理</span>
  <span class="highlight-blue">end</span>
<span class="highlight-blue">end</span>
</pre>
                                </div>
                            </div>
                            <div class="bg-blue-50 p-4 rounded-lg border-l-4 border-blue-400">
                                <h4 class="font-semibold text-blue-800 mb-2">継承の恩恵</h4>
                                <div class="code-snippet p-3">
<pre class="text-sm">
<span class="highlight-blue">class</span> <span class="highlight-yellow">UsersController</span> &lt; <span class="highlight-green">ApplicationController</span>
  <span class="highlight-pink"># authenticate_user! が自動実行される</span>
  <span class="highlight-pink"># set_current_user も自動実行される</span>
  <span class="highlight-pink"># redirect_to, render なども使える</span>
  
  <span class="highlight-blue">def</span> <span class="highlight-yellow">show</span>
    <span class="highlight-green">@user</span> = User.find(params[<span class="highlight-green">:id</span>])
  <span class="highlight-blue">end</span>
<span class="highlight-blue">end</span>
</pre>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Controller Features Table -->
                <div class="overflow-x-auto">
                    <table class="w-full border-collapse bg-white border border-gray-200 rounded-lg overflow-hidden">
                        <thead>
                            <tr class="bg-gradient-to-r from-gray-100 to-gray-200">
                                <th class="border border-gray-300 p-4 text-left font-semibold">クラス名</th>
                                <th class="border border-gray-300 p-4 text-left font-semibold">継承元</th>
                                <th class="border border-gray-300 p-4 text-left font-semibold">主な提供機能</th>
                                <th class="border border-gray-300 p-4 text-left font-semibold">使用場面</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr class="bg-red-50 hover:bg-red-100 transition-colors">
                                <td class="border border-gray-300 p-4">
                                    <code class="font-mono text-sm bg-red-200 px-2 py-1 rounded">ActionController::Base</code>
                                </td>
                                <td class="border border-gray-300 p-4">Railsのgem</td>
                                <td class="border border-gray-300 p-4">
                                    <ul class="text-sm space-y-1">
                                        <li>• HTTPリクエスト処理（params, request, response）</li>
                                        <li>• レスポンス生成（render, redirect_to）</li>
                                        <li>• セッション管理（session, flash）</li>
                                        <li>• フィルター機能（before_action, after_action）</li>
                                    </ul>
                                </td>
                                <td class="border border-gray-300 p-4 text-sm text-gray-600">
                                    全コントローラーで自動利用
                                </td>
                            </tr>
                            <tr class="bg-yellow-50 hover:bg-yellow-100 transition-colors">
                                <td class="border border-gray-300 p-4">
                                    <code class="font-mono text-sm bg-yellow-200 px-2 py-1 rounded">ApplicationController</code>
                                </td>
                                <td class="border border-gray-300 p-4">ActionController::Base</td>
                                <td class="border border-gray-300 p-4">
                                    <ul class="text-sm space-y-1">
                                        <li>• 認証処理（ログイン必須チェック）</li>
                                        <li>• 権限確認（管理者権限など）</li>
                                        <li>• 共通エラーハンドリング</li>
                                        <li>• レイアウト設定</li>
                                    </ul>
                                </td>
                                <td class="border border-gray-300 p-4 text-sm text-gray-600">
                                    アプリ全体の共通処理
                                </td>
                            </tr>
                            <tr class="bg-blue-50 hover:bg-blue-100 transition-colors">
                                <td class="border border-gray-300 p-4">
                                    <code class="font-mono text-sm bg-blue-200 px-2 py-1 rounded">UsersController等</code>
                                </td>
                                <td class="border border-gray-300 p-4">ApplicationController</td>
                                <td class="border border-gray-300 p-4">
                                    <ul class="text-sm space-y-1">
                                        <li>• リソース固有のCRUD処理</li>
                                        <li>• ビジネスロジック実行</li>
                                        <li>• パラメータ処理</li>
                                        <li>• ビュー変数設定</li>
                                    </ul>
                                </td>
                                <td class="border border-gray-300 p-4 text-sm text-gray-600">
                                    個別機能の実装
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </section>

        <div class="section-divider"></div>

        <!-- Helper Inheritance -->
        <section class="mb-12">
            <div class="bg-white rounded-xl shadow-lg p-8">
                <h2 class="text-3xl font-bold text-gray-800 mb-8">
                    <i class="fas fa-hands-helping text-purple-500 mr-3"></i>3. ヘルパー（Helper）の継承とインクルード
                </h2>
                
                <div class="mb-6 p-4 bg-purple-50 border-l-4 border-purple-400 rounded-r-lg">
                    <p class="text-purple-800">
                        <i class="fas fa-info-circle mr-2"></i>
                        <strong>注意：</strong>ヘルパーは厳密には「継承」ではなく「インクルード（include）」という仕組みを使っています。
                        モジュールをクラスに取り込んで機能を追加する方法です。
                    </p>
                </div>

                <div class="grid lg:grid-cols-2 gap-8 mb-8">
                    <div>
                        <h3 class="text-xl font-semibold mb-4 text-purple-700">インクルード構造</h3>
                        <div class="flex flex-col items-center bg-gray-50 p-6 rounded-lg">
                            <div class="bg-red-100 border-2 border-red-300 rounded-lg p-4 w-72 text-center mb-2">
                                <h4 class="font-bold text-red-800">ActionView::Helpers</h4>
                                <p class="text-sm text-red-600">Railsのgem（基盤）</p>
                                <p class="text-xs text-red-500 mt-1">HTML生成・フォーム等</p>
                            </div>
                            <div class="inheritance-line"></div>
                            <div class="text-center text-sm text-gray-500 my-2">
                                <i class="fas fa-download mr-1"></i>自動include
                            </div>
                            <div class="bg-yellow-100 border-2 border-yellow-300 rounded-lg p-4 w-72 text-center mb-2">
                                <h4 class="font-bold text-yellow-800">ApplicationHelper</h4>
                                <p class="text-sm text-yellow-600">アプリ共通のヘルパー</p>
                                <p class="text-xs text-yellow-500 mt-1">全ビューで利用可能</p>
                            </div>
                            <div class="inheritance-line"></div>
                            <div class="text-center text-sm text-gray-500 my-2">
                                <i class="fas fa-plus mr-1"></i>追加機能
                            </div>
                            <div class="bg-purple-100 border-2 border-purple-300 rounded-lg p-4 w-72 text-center">
                                <h4 class="font-bold text-purple-800">UsersHelper等</h4>
                                <p class="text-sm text-purple-600">個別のヘルパー</p>
                                <p class="text-xs text-purple-500 mt-1">対応ビューで利用可能</p>
                            </div>
                        </div>
                    </div>
                    
                    <div>
                        <h3 class="text-xl font-semibold mb-4 text-purple-700">ヘルパーの実践活用</h3>
                        <div class="space-y-4">
                            <div class="bg-purple-50 p-4 rounded-lg border-l-4 border-purple-400">
                                <h4 class="font-semibold text-purple-800 mb-2">ApplicationHelperの例</h4>
                                <div class="code-snippet p-3">
<pre class="text-sm">
<span class="highlight-blue">module</span> <span class="highlight-yellow">ApplicationHelper</span>
  <span class="highlight-blue">def</span> <span class="highlight-yellow">page_title</span>(title = <span class="highlight-green">""</span>)
    base_title = <span class="highlight-green">"My Rails App"</span>
    title.empty? ? base_title : <span class="highlight-green">"#{title} | #{base_title}"</span>
  <span class="highlight-blue">end</span>
  
  <span class="highlight-blue">def</span> <span class="highlight-yellow">flash_message_class</span>(type)
    <span class="highlight-pink"># Bootstrap用のクラス名を返す</span>
    {
      <span class="highlight-green">notice:</span> <span class="highlight-green">"alert-success"</span>,
      <span class="highlight-green">alert:</span> <span class="highlight-green">"alert-danger"</span>
    }[type.to_sym]
  <span class="highlight-blue">end</span>
<span class="highlight-blue">end</span>
</pre>
                                </div>
                            </div>
                            <div class="bg-indigo-50 p-4 rounded-lg border-l-4 border-indigo-400">
                                <h4 class="font-semibold text-indigo-800 mb-2">ビューでの使用</h4>
                                <div class="code-snippet p-3">
<pre class="text-sm">
<span class="highlight-pink">&lt;!-- app/views/layouts/application.html.erb --&gt;</span>
&lt;<span class="highlight-blue">title</span>&gt;&lt;%= <span class="highlight-yellow">page_title</span>(<span class="highlight-green">"ユーザー一覧"</span>) %&gt;&lt;/<span class="highlight-blue">title</span>&gt;

<span class="highlight-pink">&lt;!-- app/views/shared/_flash.html.erb --&gt;</span>
&lt;% <span class="highlight-blue">flash.each do</span> |type, message| %&gt;
  &lt;<span class="highlight-blue">div</span> <span class="highlight-green">class</span>=<span class="highlight-green">"alert &lt;%= flash_message_class(type) %&gt;"</span>&gt;
    &lt;%= message %&gt;
  &lt;/<span class="highlight-blue">div</span>&gt;
&lt;% <span class="highlight-blue">end</span> %&gt;
</pre>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Helper Usage Table -->
                <div class="overflow-x-auto">
                    <table class="w-full border-collapse bg-white border border-gray-200 rounded-lg overflow-hidden">
                        <thead>
                            <tr class="bg-gradient-to-r from-gray-100 to-gray-200">
                                <th class="border border-gray-300 p-4 text-left font-semibold">モジュール名</th>
                                <th class="border border-gray-300 p-4 text-left font-semibold">提供機能</th>
                                <th class="border border-gray-300 p-4 text-left font-semibold">利用可能場所</th>
                                <th class="border border-gray-300 p-4 text-left font-semibold">実装例</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr class="bg-red-50 hover:bg-red-100 transition-colors">
                                <td class="border border-gray-300 p-4">
                                    <code class="font-mono text-sm bg-red-200 px-2 py-1 rounded">ActionView::Helpers</code>
                                </td>
                                <td class="border border-gray-300 p-4">
                                    <ul class="text-sm space-y-1">
                                        <li>• form_with, link_to, image_tag</li>
                                        <li>• number_to_currency, time_ago_in_words</li>
                                        <li>• sanitize, truncate</li>
                                    </ul>
                                </td>
                                <td class="border border-gray-300 p-4 text-sm">全ビュー・ヘルパー</td>
                                <td class="border border-gray-300 p-4">
                                    <code class="text-xs bg-gray-100 px-2 py-1 rounded block mb-1">link_to "編集", edit_user_path(@user)</code>
                                    <code class="text-xs bg-gray-100 px-2 py-1 rounded block">number_to_currency(1000)</code>
                                </td>
                            </tr>
                            <tr class="bg-yellow-50 hover:bg-yellow-100 transition-colors">
                                <td class="border border-gray-300 p-4">
                                    <code class="font-mono text-sm bg-yellow-200 px-2 py-1 rounded">ApplicationHelper</code>
                                </td>
                                <td class="border border-gray-300 p-4">
                                    <ul class="text-sm space-y-1">
                                        <li>• アプリ共通のUI処理</li>
                                        <li>• 共通フォーマット処理</li>
                                        <li>• レイアウト用ヘルパー</li>
                                    </ul>
                                </td>
                                <td class="border border-gray-300 p-4 text-sm">全ビュー</td>
                                <td class="border border-gray-300 p-4">
                                    <code class="text-xs bg-gray-100 px-2 py-1 rounded block mb-1">page_title("ユーザー詳細")</code>
                                    <code class="text-xs bg-gray-100 px-2 py-1 rounded block">format_datetime(@user.created_at)</code>
                                </td>
                            </tr>
                            <tr class="bg-purple-50 hover:bg-purple-100 transition-colors">
                                <td class="border border-gray-300 p-4">
                                    <code class="font-mono text-sm bg-purple-200 px-2 py-1 rounded">UsersHelper等</code>
                                </td>
                                <td class="border border-gray-300 p-4">
                                    <ul class="text-sm space-y-1">
                                        <li>• 特定リソース専用処理</li>
                                        <li>• 複雑な表示ロジック</li>
                                        <li>• 条件分岐処理</li>
                                    </ul>
                                </td>
                                <td class="border border-gray-300 p-4 text-sm">対応するビュー</td>
                                <td class="border border-gray-300 p-4">
                                    <code class="text-xs bg-gray-100 px-2 py-1 rounded block mb-1">user_status_badge(@user)</code>
                                    <code class="text-xs bg-gray-100 px-2 py-1 rounded block">user_avatar_image(@user, size: 'lg')</code>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </section>

        <div class="section-divider"></div>

        <!-- Naming Convention Deep Dive -->
        <section class="mb-12">
            <div class="bg-white rounded-xl shadow-lg p-8">
                <h2 class="text-3xl font-bold text-gray-800 mb-8">
                    <i class="fas fa-tag text-indigo-500 mr-3"></i>4. 命名規則の深い理解
                </h2>

                <div class="chat-bubble chat-bubble-bot mb-8">
                    <div class="flex items-start">
                        <div class="bg-indigo-500 text-white p-3 rounded-full mr-4 flex-shrink-0">
                            <i class="fas fa-robot text-lg"></i>
                        </div>
                        <div>
                            <h3 class="text-xl font-bold text-indigo-800 mb-3">🤖 なぜ「ApplicationRecord」なのか？</h3>
                            <p class="text-gray-700 mb-4 leading-relaxed">
                                素晴らしい質問ですね！まさにその通りです！🎯 
                                <strong class="text-indigo-600">継承関係を名前で表現する</strong>というRailsの設計思想が現れています。
                            </p>
                        </div>
                    </div>
                </div>

                <div class="grid md:grid-cols-2 gap-8 mb-8">
                    <div class="space-y-6">
                        <div class="pro-tip p-6 rounded-lg">
                            <h3 class="text-xl font-semibold mb-4 text-green-800">
                                <i class="fas fa-lightbulb text-yellow-500 mr-2"></i>一目で分かる継承関係
                            </h3>
                            <p class="text-green-700 mb-4">名前の末尾を見るだけで、親クラスが何系なのかが直感的に分かります。</p>
                            <div class="code-snippet p-4">
<pre class="text-sm">
<span class="highlight-pink"># 継承関係が名前に現れている！</span>
ActiveRecord::Base
    ↓
Application<span class="highlight-yellow">Record</span>  <span class="highlight-pink"># ← Recordが残ってる</span>
    ↓
User, Post, Comment

ActionController::Base
    ↓  
Application<span class="highlight-yellow">Controller</span>  <span class="highlight-pink"># ← Controllerが残ってる</span>
    ↓
UsersController, PostsController
</pre>
                            </div>
                        </div>
                        
                        <div class="learning-step p-6 rounded-lg">
                            <h3 class="text-xl font-semibold mb-4 text-blue-800">
                                <i class="fas fa-users text-blue-500 mr-2"></i>チーム開発での価値
                            </h3>
                            <p class="text-blue-700 mb-3">この一貫した命名ルールにより、他の開発者も迷わずコードを理解できます。</p>
                            <ul class="space-y-2 text-blue-700">
                                <li class="flex items-start">
                                    <i class="fas fa-check text-green-500 mt-1 mr-2 flex-shrink-0"></i>
                                    <span>新メンバーのオンボーディング時間短縮</span>
                                </li>
                                <li class="flex items-start">
                                    <i class="fas fa-check text-green-500 mt-1 mr-2 flex-shrink-0"></i>
                                    <span>コードレビューの効率向上</span>
                                </li>
                                <li class="flex items-start">
                                    <i class="fas fa-check text-green-500 mt-1 mr-2 flex-shrink-0"></i>
                                    <span>バグの原因特定が早くなる</span>
                                </li>
                            </ul>
                        </div>
                    </div>

                    <div class="space-y-6">
                        <div class="bg-gradient-to-br from-purple-50 to-indigo-50 p-6 rounded-lg border border-purple-200">
                            <h3 class="text-xl font-semibold mb-4 text-purple-800">
                                <i class="fas fa-pattern text-purple-500 mr-2"></i>Railsの命名パターン全体像
                            </h3>
                            <div class="space-y-3">
                                <div class="flex items-center justify-between p-3 bg-white rounded-lg border">
                                    <code class="font-mono text-sm">ApplicationRecord</code>
                                    <span class="text-sm text-gray-600">← ActiveRecord系</span>
                                </div>
                                <div class="flex items-center justify-between p-3 bg-white rounded-lg border">
                                    <code class="font-mono text-sm">ApplicationController</code>
                                    <span class="text-sm text-gray-600">← ActionController系</span>
                                </div>
                                <div class="flex items-center justify-between p-3 bg-white rounded-lg border">
                                    <code class="font-mono text-sm">ApplicationMailer</code>
                                    <span class="text-sm text-gray-600">← ActionMailer系</span>
                                </div>
                                <div class="flex items-center justify-between p-3 bg-white rounded-lg border">
                                    <code class="font-mono text-sm">ApplicationJob</code>
                                    <span class="text-sm text-gray-600">← ActiveJob系</span>
                                </div>
                                <div class="flex items-center justify-between p-3 bg-white rounded-lg border">
                                    <code class="font-mono text-sm">ApplicationCable::Channel</code>
                                    <span class="text-sm text-gray-600">← ActionCable系</span>
                                </div>
                            </div>
                        </div>

                        <div class="warning-box p-6 rounded-lg">
                            <h3 class="text-xl font-semibold mb-4 text-yellow-800">
                                <i class="fas fa-exclamation-triangle text-yellow-500 mr-2"></i>よくある誤解
                            </h3>
                            <ul class="space-y-2 text-yellow-800">
                                <li class="flex items-start">
                                    <i class="fas fa-times text-red-500 mt-1 mr-2 flex-shrink-0"></i>
                                    <span>「ApplicationRecord は ActiveRecord::Base と同じ」→ 実は継承している</span>
                                </li>
                                <li class="flex items-start">
                                    <i class="fas fa-times text-red-500 mt-1 mr-2 flex-shrink-0"></i>
                                    <span>「ApplicationController は空っぽ」→ 実は共通処理の場所</span>
                                </li>
                                <li class="flex items-start">
                                    <i class="fas fa-times text-red-500 mt-1 mr-2 flex-shrink-0"></i>
                                    <span>「ヘルパーは継承」→ 実はインクルード（include）</span>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <div class="section-divider"></div>

        <!-- Learning Strategy -->
        <section class="mb-12">
            <div class="bg-white rounded-xl shadow-lg p-8">
                <h2 class="text-3xl font-bold text-gray-800 mb-8">
                    <i class="fas fa-graduation-cap text-green-500 mr-3"></i>5. 効率的な学習戦略
                </h2>

                <div class="chat-bubble chat-bubble-bot mb-8">
                    <div class="flex items-start">
                        <div class="bg-green-500 text-white p-3 rounded-full mr-4 flex-shrink-0">
                            <i class="fas fa-user-graduate text-lg"></i>
                        </div>
                        <div>
                            <h3 class="text-xl font-bold text-green-800 mb-3">💡 「親クラスを覚える」= 効率的な学習戦略</h3>
                            <p class="text-gray-700 leading-relaxed">
                                その通りです！素晴らしい理解ですね！🎯 
                                <strong class="text-green-600">親クラスの機能を覚えれば、その子クラスや孫クラスで使える機能がすべて分かる</strong>ようになります。
                            </p>
                        </div>
                    </div>
                </div>

                <div class="grid lg:grid-cols-3 gap-6 mb-8">
                    <div class="learning-step p-6 rounded-lg">
                        <h3 class="text-lg font-bold text-blue-800 mb-4">
                            <span class="bg-blue-500 text-white px-3 py-1 rounded-full text-sm mr-2">STEP 1</span>
                            親クラスを理解
                        </h3>
                        <p class="text-blue-700 text-sm mb-4">まずは基盤となる親クラスの主要機能を把握します。</p>
                        <ul class="space-y-2 text-sm">
                            <li class="flex items-start">
                                <i class="fas fa-database text-green-500 mt-1 mr-2 flex-shrink-0"></i>
                                <span><strong>ActiveRecord::Base:</strong> CRUD, アソシエーション、バリデーション</span>
                            </li>
                            <li class="flex items-start">
                                <i class="fas fa-cog text-blue-500 mt-1 mr-2 flex-shrink-0"></i>
                                <span><strong>ActionController::Base:</strong> HTTP処理、レスポンス生成、フィルター</span>
                            </li>
                        </ul>
                    </div>

                    <div class="learning-step p-6 rounded-lg">
                        <h3 class="text-lg font-bold text-blue-800 mb-4">
                            <span class="bg-blue-500 text-white px-3 py-1 rounded-full text-sm mr-2">STEP 2</span>
                            Application層を理解
                        </h3>
                        <p class="text-blue-700 text-sm mb-4">アプリ共通の機能をどう実装するかを学びます。</p>
                        <ul class="space-y-2 text-sm">
                            <li class="flex items-start">
                                <i class="fas fa-shield-alt text-purple-500 mt-1 mr-2 flex-shrink-0"></i>
                                <span><strong>認証・認可:</strong> before_action での共通チェック</span>
                            </li>
                            <li class="flex items-start">
                                <i class="fas fa-wrench text-orange-500 mt-1 mr-2 flex-shrink-0"></i>
                                <span><strong>共通ヘルパー:</strong> 全体で使うUI機能</span>
                            </li>
                        </ul>
                    </div>

                    <div class="learning-step p-6 rounded-lg">
                        <h3 class="text-lg font-bold text-blue-800 mb-4">
                            <span class="bg-blue-500 text-white px-3 py-1 rounded-full text-sm mr-2">STEP 3</span>
                            個別実装を学習
                        </h3>
                        <p class="text-blue-700 text-sm mb-4">各リソース固有の機能実装方法を習得します。</p>
                        <ul class="space-y-2 text-sm">
                            <li class="flex items-start">
                                <i class="fas fa-code text-pink-500 mt-1 mr-2 flex-shrink-0"></i>
                                <span><strong>ビジネスロジック:</strong> モデル固有の処理</span>
                            </li>
                            <li class="flex items-start">
                                <i class="fas fa-route text-indigo-500 mt-1 mr-2 flex-shrink-0"></i>
                                <span><strong>ルーティング連携:</strong> RESTfulな設計</span>
                            </li>
                        </ul>
                    </div>
                </div>

                <div class="grid md:grid-cols-2 gap-8">
                    <div>
                        <h3 class="text-xl font-semibold mb-4 text-gray-800">
                            <i class="fas fa-chart-line text-green-500 mr-2"></i>学習の優先順位
                        </h3>
                        <div class="space-y-4">
                            <div class="flex items-center p-4 bg-red-50 rounded-lg border-l-4 border-red-400">
                                <div class="bg-red-500 text-white px-3 py-1 rounded-full text-sm font-bold mr-4">高</div>
                                <div>
                                    <div class="font-semibold text-red-800">ActiveRecord::Base の主要メソッド</div>
                                    <div class="text-sm text-red-600">find, create, update, destroy, where, order</div>
                                </div>
                            </div>
                            <div class="flex items-center p-4 bg-yellow-50 rounded-lg border-l-4 border-yellow-400">
                                <div class="bg-yellow-500 text-white px-3 py-1 rounded-full text-sm font-bold mr-4">中</div>
                                <div>
                                    <div class="font-semibold text-yellow-800">ActionController::Base の基本機能</div>
                                    <div class="text-sm text-yellow-600">params, render, redirect_to, before_action</div>
                                </div>
                            </div>
                            <div class="flex items-center p-4 bg-green-50 rounded-lg border-l-4 border-green-400">
                                <div class="bg-green-500 text-white px-3 py-1 rounded-full text-sm font-bold mr-4">低</div>
                                <div>
                                    <div class="font-semibold text-green-800">Application層・ヘルパーの活用</div>
                                    <div class="text-sm text-green-600">共通処理の抽象化、UI ヘルパーメソッド</div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div>
                        <h3 class="text-xl font-semibold mb-4 text-gray-800">
                            <i class="fas fa-tools text-blue-500 mr-2"></i>実践的な学習方法
                        </h3>
                        <div class="space-y-4">
                            <div class="pro-tip p-4 rounded-lg">
                                <h4 class="font-bold text-green-800 mb-2">
                                    <i class="fas fa-terminal text-green-600 mr-2"></i>1. rails console で継承チェーン確認
                                </h4>
                                <div class="code-snippet p-3">
<pre class="text-sm">
<span class="highlight-pink"># 継承チェーンを確認</span>
User.ancestors
<span class="highlight-pink"># => [User, ApplicationRecord, ActiveRecord::Base, ...]</span>

<span class="highlight-pink"># 使えるメソッドを確認</span>
User.methods.grep(<span class="highlight-green">/find/</span>)
<span class="highlight-pink"># => [:find, :find_by, :find_each, ...]</span>
</pre>
                                </div>
                            </div>
                            <div class="learning-step p-4 rounded-lg">
                                <h4 class="font-bold text-blue-800 mb-2">
                                    <i class="fas fa-book text-blue-600 mr-2"></i>2. 自分用チートシート作成
                                </h4>
                                <p class="text-blue-700 text-sm">各親クラスの主要メソッドを書き出して、手元に置いておきましょう。</p>
                            </div>
                            <div class="warning-box p-4 rounded-lg">
                                <h4 class="font-bold text-yellow-800 mb-2">
                                    <i class="fas fa-code text-yellow-600 mr-2"></i>3. 小さなアプリで実践
                                </h4>
                                <p class="text-yellow-800 text-sm">Todoアプリやブログアプリで、継承関係を意識しながらコードを書いてみましょう。</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <div class="section-divider"></div>

        <!-- Practice and Next Steps -->
        <section class="mb-12">
            <div class="bg-white rounded-xl shadow-lg p-8">
                <h2 class="text-3xl font-bold text-gray-800 mb-8">
                    <i class="fas fa-rocket text-purple-500 mr-3"></i>6. 実践課題と次のステップ
                </h2>

                <div class="grid md:grid-cols-2 gap-8 mb-8">
                    <div class="space-y-6">
                        <h3 class="text-xl font-semibold text-purple-700">
                            <i class="fas fa-tasks text-purple-500 mr-2"></i>実践課題
                        </h3>
                        
                        <div class="learning-step p-4 rounded-lg">
                            <h4 class="font-bold text-blue-800 mb-3">課題 1: 継承チェーン調査</h4>
                            <div class="code-snippet p-3 mb-3">
<pre class="text-sm">
<span class="highlight-pink"># rails console で実行</span>
User.ancestors
ApplicationController.ancestors
ApplicationHelper.ancestors

<span class="highlight-pink"># どのような結果になるか予想してから実行してみよう！</span>
</pre>
                            </div>
                            <p class="text-blue-700 text-sm">各クラスがどのような継承関係にあるかを確認し、理解を深めましょう。</p>
                        </div>

                        <div class="pro-tip p-4 rounded-lg">
                            <h4 class="font-bold text-green-800 mb-3">課題 2: ApplicationRecord にメソッド追加</h4>
                            <div class="code-snippet p-3 mb-3">
<pre class="text-sm">
<span class="highlight-blue">class</span> <span class="highlight-yellow">ApplicationRecord</span> &lt; <span class="highlight-green">ActiveRecord::Base</span>
  <span class="highlight-blue">def</span> <span class="highlight-yellow">formatted_created_at</span>
    created_at.strftime(<span class="highlight-green">"%Y年%m月%d日 %H:%M"</span>)
  <span class="highlight-blue">end</span>
<span class="highlight-blue">end</span>

<span class="highlight-pink"># すべてのモデルで使えることを確認</span>
User.first.formatted_created_at
Post.first.formatted_created_at
</pre>
                            </div>
                            <p class="text-green-700 text-sm">継承の効果を実感してみましょう。</p>
                        </div>

                        <div class="warning-box p-4 rounded-lg">
                            <h4 class="font-bold text-yellow-800 mb-3">課題 3: ApplicationController で共通処理</h4>
                            <div class="code-snippet p-3 mb-3">
<pre class="text-sm">
<span class="highlight-blue">class</span> <span class="highlight-yellow">ApplicationController</span> &lt; <span class="highlight-green">ActionController::Base</span>
  before_action <span class="highlight-green">:set_current_time</span>
  
  <span class="highlight-blue">private</span>
  
  <span class="highlight-blue">def</span> <span class="highlight-yellow">set_current_time</span>
    <span class="highlight-green">@current_time</span> = Time.current
  <span class="highlight-blue">end</span>
<span class="highlight-blue">end</span>
</pre>
                            </div>
                            <p class="text-yellow-800 text-sm">すべてのコントローラーで @current_time が使えることを確認しましょう。</p>
                        </div>
                    </div>

                    <div class="space-y-6">
                        <h3 class="text-xl font-semibold text-indigo-700">
                            <i class="fas fa-arrow-right text-indigo-500 mr-2"></i>次のステップ
                        </h3>

                        <div class="bg-gradient-to-br from-indigo-50 to-purple-50 p-6 rounded-lg border border-indigo-200">
                            <h4 class="font-bold text-indigo-800 mb-4">
                                <i class="fas fa-star text-yellow-500 mr-2"></i>レベル1: 基礎固め
                            </h4>
                            <ul class="space-y-2 text-indigo-700 text-sm">
                                <li>• ActiveRecord の基本メソッドを完全習得</li>
                                <li>• ActionController の基本機能を理解</li>
                                <li>• ヘルパーメソッドの作成・使用に慣れる</li>
                                <li>• 継承関係を意識したコード設計</li>
                            </ul>
                        </div>

                        <div class="bg-gradient-to-br from-blue-50 to-indigo-50 p-6 rounded-lg border border-blue-200">
                            <h4 class="font-bold text-blue-800 mb-4">
                                <i class="fas fa-fire text-orange-500 mr-2"></i>レベル2: 応用展開
                            </h4>
                            <ul class="space-y-2 text-blue-700 text-sm">
                                <li>• カスタムモジュールの作成とインクルード</li>
                                <li>• Concern パターンの活用</li>
                                <li>• 複数継承の代替パターン（Mixin）</li>
                                <li>• パフォーマンスを意識した継承設計</li>
                            </ul>
                        </div>

                        <div class="bg-gradient-to-br from-purple-50 to-pink-50 p-6 rounded-lg border border-purple-200">
                            <h4 class="font-bold text-purple-800 mb-4">
                                <i class="fas fa-crown text-yellow-500 mr-2"></i>レベル3: マスタークラス
                            </h4>
                            <ul class="space-y-2 text-purple-700 text-sm">
                                <li>• Rails の内部実装理解</li>
                                <li>• 独自の基底クラス設計</li>
                                <li>• gem 開発での継承活用</li>
                                <li>• アーキテクチャパターンの実装</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <div class="pro-tip p-6 rounded-lg">
                    <h3 class="text-xl font-bold text-green-800 mb-4">
                        <i class="fas fa-lightbulb text-yellow-500 mr-2"></i>継続学習のコツ
                    </h3>
                    <div class="grid md:grid-cols-2 gap-6">
                        <div>
                            <h4 class="font-semibold text-green-800 mb-2">日々の実践</h4>
                            <ul class="space-y-1 text-green-700 text-sm">
                                <li>• コードを書くとき、どのクラスから機能が来ているか意識する</li>
                                <li>• エラーが出たとき、継承チェーンを辿って原因を探す</li>
                                <li>• 新しいメソッドを見つけたら、どのクラス由来か調べる</li>
                            </ul>
                        </div>
                        <div>
                            <h4 class="font-semibold text-green-800 mb-2">知識の整理</h4>
                            <ul class="space-y-1 text-green-700 text-sm">
                                <li>• 週に1回、学んだ継承関係を図にまとめる</li>
                                <li>• よく使うメソッドの「出自」をメモする</li>
                                <li>• 他の人に説明できるレベルまで理解を深める</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <div class="section-divider"></div>

        <!-- Summary -->
        <section class="mb-12">
            <div class="bg-gradient-to-br from-indigo-600 via-purple-600 to-blue-700 text-white rounded-xl shadow-lg p-8">
                <h2 class="text-3xl font-bold mb-6 text-center">
                    <i class="fas fa-trophy text-yellow-300 mr-3"></i>まとめ：あなたは今、Railsマスターへの道を歩んでいます
                </h2>

                <div class="grid md:grid-cols-2 gap-8">
                    <div>
                        <h3 class="text-xl font-semibold mb-4 text-blue-100">
                            <i class="fas fa-check-circle text-green-300 mr-2"></i>理解できたこと
                        </h3>
                        <ul class="space-y-3 text-blue-100">
                            <li class="flex items-start">
                                <i class="fas fa-link text-yellow-300 mt-1 mr-3 flex-shrink-0"></i>
                                <span><strong>継承チェーン</strong>がRailsの機能提供の仕組みであること</span>
                            </li>
                            <li class="flex items-start">
                                <i class="fas fa-tag text-yellow-300 mt-1 mr-3 flex-shrink-0"></i>
                                <span><strong>命名規則</strong>に継承関係を表現する設計思想があること</span>
                            </li>
                            <li class="flex items-start">
                                <i class="fas fa-graduation-cap text-yellow-300 mt-1 mr-3 flex-shrink-0"></i>
                                <span><strong>親クラス学習</strong>が効率的な学習戦略であること</span>
                            </li>
                            <li class="flex items-start">
                                <i class="fas fa-users text-yellow-300 mt-1 mr-3 flex-shrink-0"></i>
                                <span><strong>チーム開発</strong>での相互理解を促進する価値があること</span>
                            </li>
                        </ul>
                    </div>

                    <div>
                        <h3 class="text-xl font-semibold mb-4 text-blue-100">
                            <i class="fas fa-rocket text-green-300 mr-2"></i>これからできること
                        </h3>
                        <ul class="space-y-3 text-blue-100">
                            <li class="flex items-start">
                                <i class="fas fa-eye text-yellow-300 mt-1 mr-3 flex-shrink-0"></i>
                                <span>コードを見ただけで<strong>構造が分かる</strong>ようになる</span>
                            </li>
                            <li class="flex items-start">
                                <i class="fas fa-bug text-yellow-300 mt-1 mr-3 flex-shrink-0"></i>
                                <span>デバッグ時に<strong>どこを調べれば良いかが直感的に分かる</strong></span>
                            </li>
                            <li class="flex items-start">
                                <i class="fas fa-code text-yellow-300 mt-1 mr-3 flex-shrink-0"></i>
                                <span>新機能実装で<strong>適切な場所に適切なコードを書ける</strong></span>
                            </li>
                            <li class="flex items-start">
                                <i class="fas fa-heart text-yellow-300 mt-1 mr-3 flex-shrink-0"></i>
                                <span>Railsの設計思想を理解し<strong>より深く愛用できる</strong></span>
                            </li>
                        </ul>
                    </div>
                </div>

                <div class="mt-8 p-6 bg-white bg-opacity-10 rounded-lg border border-white border-opacity-20">
                    <p class="text-center text-lg leading-relaxed">
                        🎉 <strong class="text-yellow-300">おめでとうございます！</strong> 🎉<br>
                        あなたは今、Railsの継承構造、命名規則、設計思想を体系的に理解されています。<br>
                        この知識は、必ず「<strong class="text-yellow-300">コードを見ただけで構造が分かる</strong>」レベルのエンジニアへと導いてくれます。<br><br>
                        <strong class="text-blue-200">継続は力なり。</strong> この調子で学習を続ければ、Railsマスターは目前です！🚀
                    </p>
                </div>
            </div>
        </section>

        <!-- Quick Reference -->
        <section class="mb-12">
            <div class="bg-white rounded-xl shadow-lg p-8">
                <h2 class="text-3xl font-bold text-gray-800 mb-8">
                    <i class="fas fa-bookmark text-indigo-500 mr-3"></i>クイックリファレンス
                </h2>

                <div class="grid md:grid-cols-3 gap-6">
                    <div class="bg-gradient-to-br from-red-50 to-pink-50 p-6 rounded-lg border border-red-200">
                        <h3 class="text-lg font-bold text-red-800 mb-4">
                            <i class="fas fa-database text-red-600 mr-2"></i>Model系
                        </h3>
                        <div class="space-y-2 text-sm">
                            <div class="code-snippet p-2">
                                <span class="highlight-yellow">ActiveRecord::Base</span>
                            </div>
                            <div class="text-center text-xs text-gray-500">↓</div>
                            <div class="code-snippet p-2">
                                <span class="highlight-yellow">ApplicationRecord</span>
                            </div>
                            <div class="text-center text-xs text-gray-500">↓</div>
                            <div class="code-snippet p-2">
                                <span class="highlight-yellow">User, Post, Comment</span>
                            </div>
                        </div>
                        <div class="mt-4 p-3 bg-red-100 rounded text-xs text-red-700">
                            <strong>キーワード:</strong> CRUD, アソシエーション, バリデーション
                        </div>
                    </div>

                    <div class="bg-gradient-to-br from-blue-50 to-indigo-50 p-6 rounded-lg border border-blue-200">
                        <h3 class="text-lg font-bold text-blue-800 mb-4">
                            <i class="fas fa-cogs text-blue-600 mr-2"></i>Controller系
                        </h3>
                        <div class="space-y-2 text-sm">
                            <div class="code-snippet p-2">
                                <span class="highlight-yellow">ActionController::Base</span>
                            </div>
                            <div class="text-center text-xs text-gray-500">↓</div>
                            <div class="code-snippet p-2">
                                <span class="highlight-yellow">ApplicationController</span>
                            </div>
                            <div class="text-center text-xs text-gray-500">↓</div>
                            <div class="code-snippet p-2">
                                <span class="highlight-yellow">UsersController, PostsController</span>
                            </div>
                        </div>
                        <div class="mt-4 p-3 bg-blue-100 rounded text-xs text-blue-700">
                            <strong>キーワード:</strong> HTTP処理, レスポンス, フィルター
                        </div>
                    </div>

                    <div class="bg-gradient-to-br from-purple-50 to-pink-50 p-6 rounded-lg border border-purple-200">
                        <h3 class="text-lg font-bold text-purple-800 mb-4">
                            <i class="fas fa-hands-helping text-purple-600 mr-2"></i>Helper系
                        </h3>
                        <div class="space-y-2 text-sm">
                            <div class="code-snippet p-2">
                                <span class="highlight-yellow">ActionView::Helpers</span>
                            </div>
                            <div class="text-center text-xs text-gray-500">↓ include</div>
                            <div class="code-snippet p-2">
                                <span class="highlight-yellow">ApplicationHelper</span>
                            </div>
                            <div class="text-center text-xs text-gray-500">+ 追加機能</div>
                            <div class="code-snippet p-2">
                                <span class="highlight-yellow">UsersHelper, PostsHelper</span>
                            </div>
                        </div>
                        <div class="mt-4 p-3 bg-purple-100 rounded text-xs text-purple-700">
                            <strong>キーワード:</strong> HTML生成, フォーム, UI処理
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Color Legend -->
        <section>
            <div class="bg-white rounded-xl shadow-lg p-6">
                <h3 class="text-xl font-bold text-gray-800 mb-4">
                    <i class="fas fa-palette text-indigo-500 mr-2"></i>色分けガイド
                </h3>
                <div class="grid grid-cols-2 md:grid-cols-5 gap-4">
                    <div class="flex items-center">
                        <div class="w-5 h-5 bg-red-200 border border-red-300 rounded mr-3"></div>
                        <span class="text-sm">Railsのgem（基盤）</span>
                    </div>
                    <div class="flex items-center">
                        <div class="w-5 h-5 bg-yellow-200 border border-yellow-300 rounded mr-3"></div>
                        <span class="text-sm">Applicationレベル</span>
                    </div>
                    <div class="flex items-center">
                        <div class="w-5 h-5 bg-green-200 border border-green-300 rounded mr-3"></div>
                        <span class="text-sm">個別モデル</span>
                    </div>
                    <div class="flex items-center">
                        <div class="w-5 h-5 bg-blue-200 border border-blue-300 rounded mr-3"></div>
                        <span class="text-sm">個別コントローラー</span>
                    </div>
                    <div class="flex items-center">
                        <div class="w-5 h-5 bg-purple-200 border border-purple-300 rounded mr-3"></div>
                        <span class="text-sm">個別ヘルパー</span>
                    </div>
                </div>
            </div>
        </section>

    </div>

    <!-- Footer -->
    <footer class="bg-gray-800 text-white py-8 mt-12">
        <div class="container mx-auto px-6 text-center">
            <p class="text-gray-300 mb-4">
                <i class="fas fa-gem mr-2 text-blue-400"></i>
                Rails 継承チェーン完全マスターガイド - あなたのRails開発を次のレベルへ
            </p>
            <p class="text-sm text-gray-400">
                継承を理解し、Railsをもっと深く愛そう 💎
            </p>
        </div>
    </footer>

    <!-- 検索機能のスクリプト -->
    <script src="page-content.js"></script>
    <script src="global-search-v2.js"></script>
    <script src="hamburger-menu.js"></script>

</body>
</html>
